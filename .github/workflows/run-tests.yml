name: Run tests
on:
  pull_request:
    branches:
      - main
  push:
    branches:
      - main
jobs:
  Test-Runner:
    runs-on: ubuntu-latest
    container:
      image: qgis/qgis:latest
    steps:
      - name: Check out repository code
        uses: actions/checkout@v2

      - name: Run test in Docker
        env:
          QGIS_TEST_VERSION: latest
          DISPLAY: "var"
          QT_DEBUG_PLUGIN: 1
          QT_QPA_PLATFORM: offscreen
        run: |
          /__w/qgis2web/qgis2web/.docker/run-docker-tests.sh
      - run: echo "üçè This job's status is ${{ job.status }}."
